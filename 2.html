<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <title>Title</title>  
    <script>  
        document.addEventListener('DOMContentLoaded', function () {  
            document.querySelector('.downlink').addEventListener('click', function () {  
                openApp() 
            }, false)  
        }, false)  ;
        function openApp(){  
            var ua = window.navigator.userAgent.toLowerCase();  
            //微信  
            if(ua.match(/MicroMessenger/i) == 'micromessenger'){  
                window.location.href='downLoadForPhone';  
            }else{//非微信浏览器  
                if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {  
                    var loadDateTime = new Date();  
                    window.setTimeout(function() {  
                        var timeOutDateTime = new Date();  
                        if (timeOutDateTime - loadDateTime < 5000) {  
                            window.location = "https://www.baidu.com/?tn=92628247_hao_pg";//ios下载地址  
                        } else {  
                        window.close();  
                        }  
                    },2000);  
                    window.location = "weixin://";  
                  }else if (navigator.userAgent.match(/android/i)) {  
                    var state = null;  
                    try {  
                        window.location = 'weixin://';  
                        setTimeout(function(){  
                            window.location= "https://www.baidu.com/?tn=92628247_hao_pg"; //android下载地址  
          
                        },500);  
                    } catch(e) {}  
                }  
            }  
        }  
    </script>  
</head>  
<body>  
<div class="downlink" style="background-color: red;height: 300px;width: 300px;">  
  
</div>  
</body>  
</html>  